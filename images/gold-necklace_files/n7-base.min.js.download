/*! Wed Jul 28 2021 13:25:05 */

var prContentMerged=!1,isDOMAlreadyLoaded=!1,mouseOrTouchDetected=!1,documentReadyEventListenerAdded=!1,n7DEBUG=!0,userAddress={},ajaxworker_path=window.location.protocol+"//"+window.location.host+"/n7-ajaxworker.min.js",sendMessage=null;function logInfo(){n7DEBUG&&console.debug.apply(null,arguments)}function logWarn(){console.warn.apply(null,arguments)}function logError(){console.error.apply(null,arguments)}function getAllElementsWithAttribute(e){return document.querySelectorAll(e)}function insertScriptInPage(e,n,t,r,o,i,a){var c=document.getElementsByTagName(e)[0],d=document.createElement("script");if(d.type=i||"text/javascript",d.src=t,r&&(d.aync=!0),o&&(d.defer=!0),null!=a)for(var l=0;l<a.length;l++)for(var s in a[l])a[l].hasOwnProperty(s)&&(d[s]=a[l][s]);n?c.appendChild(d):c.insertBefore(d,c.firstChild),logInfo("script ["+t+"]"+(r?" [async]":"")+(o?" [defer]":"")+" inserted in page")}function insertLinkInPage(e,n,t,r,o){var i=document.getElementsByTagName("head")[0],a=document.createElement("link");if(null!=e&&(a.rel=e),a.href=n,null!=t&&(a.as=t),null!=r&&(a.media=r),null!=o)for(var c=0;c<o.length;c++)for(var d in o[c])o[c].hasOwnProperty(d)&&(a[d]=o[c][d]);i.appendChild(a),logInfo("link ["+e+"] ["+n+"] inserted in page")}function mergeProgressivelyRenderedContentinDOM(e,n,t){var r=e.trim();var o=(new DOMParser).parseFromString(r,"text/html").querySelectorAll("span[id*='nv']");for(i in n)for(var a=0;a<o.length;a++){var c=o[a];c.id==n[i]&&null!=document.querySelector("#"+n[i])&&(document.querySelector("#"+n[i]).outerHTML=c.innerHTML)}prContentMerged=!0}var checkFunctionObjectAndCallWithParams=function(e,n){var t=window[e];"function"==typeof t&&t.apply(null,n)},mergeTriggersEventDataCollection=[],processMergeTriggerEventsHandler=function(){for(logInfo("processing the ajax event handlers");mergeTriggersEventDataCollection.length>0;){var e=mergeTriggersEventDataCollection.shift();logInfo("merging now."),checkFunctionObjectAndCallWithParams(e.mergeTriggerPreHookFunction,[e.key,e.progressivelyRenderingURL,e]),mergeProgressivelyRenderedContentinDOM(e.data,e.HtmlBindIDs,e.key),checkFunctionObjectAndCallWithParams(e.mergeTriggerPostHookFunction,[e.key,e.progressivelyRenderingURL])}mergeTriggersEventDataCollection=[]},fetchTriggersUrlCollection=[],processFetchTriggerEventsHandler=function(){for(logInfo("processing the fetch triggers");fetchTriggersUrlCollection.length>0;){var e=fetchTriggersUrlCollection.shift();logInfo("fetching now.");var n=e.ajaxWorker,t=e.progressivelyRenderingURL,r=e.httpMethod,o=e.makeUnique,i=e.sendHeadersOnly,a=e.fetchTriggerPreHookFunction,c=e.key;checkFunctionObjectAndCallWithParams(a,[c,t]),n.postMessage({url:t,method:r,makeUnique:o,sendHeadersOnly:i})}fetchTriggersUrlCollection=[]},nvMouseMovementOrTouchHandler=function(){document.removeEventListener("mousemove",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("touchstart",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("keydown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("mousedown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("pointerdown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("scroll",nvMouseMovementOrTouchHandler,!1),mouseOrTouchDetected=!0,processFetchTriggerEventsHandler(),processMergeTriggerEventsHandler()},lookupNextMouseMoveOrTouchEvent=function(){mouseOrTouchDetected=!1,document.addEventListener("mousemove",nvMouseMovementOrTouchHandler,!1),document.addEventListener("touchstart",nvMouseMovementOrTouchHandler,!1),document.addEventListener("keydown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("mousedown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("pointerdown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("scroll",nvMouseMovementOrTouchHandler,!1)};lookupNextMouseMoveOrTouchEvent();const wait=e=>new Promise(n=>setTimeout(n,e)),retryOperation=(e,n,t)=>new Promise((r,o)=>e().then(r).catch(i=>t-1>0?wait(n).then(retryOperation.bind(null,e,n,t-1)).then(r).catch(o):o(i)));function handleProgressivelyRenderingUsingAjaxWorker(e,n,t,r,o,i,a,c,d,l,s,g="GET",u=!1,m=!1){var h=new Worker(ajaxworker_path);if(h.onmessage=function(r){if(checkFunctionObjectAndCallWithParams(l,[t,e]),"now"===o)logInfo("merging now."),checkFunctionObjectAndCallWithParams(d,[t,e,r]),mergeProgressivelyRenderedContentinDOM(r.data,n,t),checkFunctionObjectAndCallWithParams(s,[t,e]);else if("motionDetected"===o&&mouseOrTouchDetected)logInfo("merging now."),checkFunctionObjectAndCallWithParams(d,[t,e,r]),mergeProgressivelyRenderedContentinDOM(r.data,n,t),checkFunctionObjectAndCallWithParams(s,[t,e]);else if("timeDelay"===o&&i>=0)setTimeout(function(){logInfo("merging now."),checkFunctionObjectAndCallWithParams(d,[t,e,r]),mergeProgressivelyRenderedContentinDOM(r.data,n,t),checkFunctionObjectAndCallWithParams(s,[t,e])},i);else if("serviceWorkerActivated"===o)"serviceWorker"in navigator?retryOperation(function(){return new Promise(function(o,i){navigator.serviceWorker.getRegistrations().then(function(a){for(let i of a)if(i.active&&i.active.scriptURL.includes("n7sw.js")&&"activated"===i.active.state)return logInfo("merging now."),checkFunctionObjectAndCallWithParams(d,[t,e,r]),mergeProgressivelyRenderedContentinDOM(r.data,n,t),checkFunctionObjectAndCallWithParams(s,[t,e]),void o("merge trigger executed for serviceWorker");i("no registrations found")})})},200,10).then(logInfo).catch(logInfo):(logInfo("merging now."),checkFunctionObjectAndCallWithParams(d,[t,e,r]),mergeProgressivelyRenderedContentinDOM(r.data,n,t),checkFunctionObjectAndCallWithParams(s,[t,e]));else if("motionDetected"===o){var a={};a.progressivelyRenderingURL=e,a.HtmlBindIDs=n,a.key=t,a.data=r.data,a.mergeTriggerPreHookFunction=d,a.mergeTriggerPostHookFunction=s,mergeTriggersEventDataCollection.push(a)}},"now"===r)checkFunctionObjectAndCallWithParams(c,[t,e]),h.postMessage({url:e,method:g||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1});else if("motionDetected"===r&&mouseOrTouchDetected)checkFunctionObjectAndCallWithParams(c,[t,e]),h.postMessage({url:e,method:g||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1});else if("timeDelay"===r&&a>=0)setTimeout(function(){checkFunctionObjectAndCallWithParams(c,[t,e]),h.postMessage({url:e,method:g||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1})},a);else if("motionDetected"===r){logInfo("will fetch later.");var v={};v.key=t,v.ajaxWorker=h,v.progressivelyRenderingURL=e,v.method=g,v.makeUnique=u,v.sendHeadersOnly=m,v.fetchTriggerPreHookFunction=c,v.fetchTriggerPostHookFunction=l,fetchTriggersUrlCollection.push(v)}}function executeFunctionByName(e,n){for(var t=new Array,r=1;r<arguments.length;r++)t.push(arguments[r]);var o=e.split("."),i=o.pop();for(r=0;r<o.length;r++)n=n[o[r]];return logInfo("executing "+e),logInfo(t),n[i].apply(n,arguments)}function getUpdatedPRDestinationPath(e){var n=window.location,t=location.pathname,r=location.search;return e.includes("$currLocationPath")&&(e=e.replace("$currLocationPath",t)+r),e.includes("$currLocationQuery")&&(e=t+e.replace("$currLocationQuery",r)),e.includes("$currLocation")&&(e=e.replace("$currLocation",n)),logInfo("updated PR destination-url : ["+e+"]"),e}function documentOnReady(){documentReadyEventListenerAdded&&document.removeEventListener("DOMContentLoaded",documentOnReady);var e=getAllElementsWithAttribute("[data-nv-name]"),n={},t=[],r=[];for(i=0;i<e.length;i++){var o="now",a="now",c="0",d="0",l="",s="",g="",u="",m=e[i].getAttribute("id"),h=e[i].getAttribute("data-nv-url"),v=e[i].getAttribute("data-nv-method"),f="true"===e[i].getAttribute("data-nv-makeUnique"),y="true"===e[i].getAttribute("data-nv-sendHeadersOnly"),p=e[i].getAttribute("data-nv-data-type");(h.includes("$currLocationPath")||h.includes("$currLocationQuery")||h.includes("$currLocation"))&&(h=getUpdatedPRDestinationPath(h)),o=e[i].getAttribute("data-nv-fetch-trigger")||o,a=e[i].getAttribute("data-nv-merge-trigger")||a,d=e[i].getAttribute("data-nv-fetch-trigger-time-delay")||d,c=e[i].getAttribute("data-nv-merge-trigger-time-delay")||c,l=e[i].getAttribute("data-nv-fetch-trigger-pre-hook")||l,s=e[i].getAttribute("data-nv-merge-trigger-pre-hook")||s,g=e[i].getAttribute("data-nv-fetch-trigger-post-hook")||g,u=e[i].getAttribute("data-nv-merge-trigger-post-hook")||u,"html"==p?(n[m]={},n[m].url=h,n[m].method=v,n[m].makeUnique=f,n[m].sendHeadersOnly=y,n[m].fetchTrigger=o,n[m].mergeTrigger=a,n[m].mergeTriggerTimeDelay=c,n[m].fetchTriggerTimeDelay=d,n[m].fetchTriggerPreHookFunction=l,n[m].mergeTriggerPreHookFunction=s,n[m].fetchTriggerPostHookFunction=g,n[m].mergeTriggerPostHookFunction=u):logInfo("NO DATA TYPE")}for(var m in n)r.push(m),t.indexOf(n[m].url)>-1||(t.push(n[m].url),handleProgressivelyRenderingUsingAjaxWorker(n[m].url,r,m,n[m].fetchTrigger,n[m].mergeTrigger,n[m].mergeTriggerTimeDelay,n[m].fetchTriggerTimeDelay,n[m].fetchTriggerPreHookFunction,n[m].mergeTriggerPreHookFunction,n[m].fetchTriggerPostHookFunction,n[m].mergeTriggerPostHookFunction,n[m].method,n[m].makeUnique,n[m].sendHeadersOnly))}function ready(e){"loading"!=document.readyState?e():(documentReadyEventListenerAdded=!0,document.addEventListener("DOMContentLoaded",e))}function predownloadFile(e,n){var t=new Worker(ajaxworker_path);t.onmessage=function(e){n&&n(e.data)},t.postMessage({url:e,method:"GET",makeUnique:!1,sendHeadersOnly:!1})}async function fetchFile(e,n){try{fetch(e).then(e=>e.json()).then(e=>n(e))}catch(e){logInfo(e)}}document.addEventListener("DOMContentLoaded",function(){isDOMAlreadyLoaded=!0,ready(documentOnReady)},!1);
//# sourceMappingURL=n7-base.min.js.map